import { render, screen, waitFor } from "@testing-library/react";
import userEvent from "@testing-library/user-event";
import { NewCustomerModal } from "./NewCustomerModal";

describe("NewCustomerModal", () => {
  it("calls onClose when clicking on the backdrop", async () => {
    const user = userEvent.setup();
    const onSubmit = jest.fn();
    const onClose = jest.fn();
    const modalRoot = document.createElement("div");
    modalRoot.setAttribute("id", "root");
    document.body.appendChild(modalRoot);
    //render();
    //<NewCustomerModal onSubmit={onSubmit} onClose={onClose} open={true} />

    user.click(modalRoot);
    await waitFor(() => expect(onClose).toHaveBeenCalled());
  });
});

const onClose = jest.fn();
    render (<div>
      <h1>Something that is not the modal</h1>
      <NewCustomerModal open={true} onClose={onClose} />
    </div>)
    click en el h1
    expect(onClose).toHaveBeenCalled()
